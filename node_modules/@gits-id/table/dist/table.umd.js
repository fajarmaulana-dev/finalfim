(function(n,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("vue"),require("@gits-id/pagination"),require("@gits-id/select"),require("@heroicons/vue/solid"),require("@gits-id/spinner"),require("@gits-id/forms"),require("@gits-id/utils")):typeof define=="function"&&define.amd?define(["exports","vue","@gits-id/pagination","@gits-id/select","@heroicons/vue/solid","@gits-id/spinner","@gits-id/forms","@gits-id/utils"],e):(n=typeof globalThis<"u"?globalThis:n||self,e(n.VTable={},n.Vue,n.Pagination,n.VSelect,n.solid,n.VSpinner,n.forms,n.utils))})(this,function(n,e,U,R,z,M,I,J){"use strict";const T=a=>a&&typeof a=="object"&&"default"in a?a:{default:a},H=T(U),G=T(R),K=T(M),Q={class:"w-auto hidden sm:flex gap-1 items-center text-sm text-gray-700 order-2"},W={class:"hidden sm:inline"},X={class:"font-semibold"},Y=e.createElementVNode("span",null,"-",-1),Z={class:"font-semibold"},_={class:"font-semibold"},v={class:"hidden sm:inline"},ee=e.createElementVNode("div",{class:"flex-grow order-1 sm:order-3"},"\xA0",-1),te={class:"w-auto flex justify-center sm:justify-end order-3 sm:order-4"},j=e.defineComponent({__name:"VDataTablePagination",props:{modelValue:{type:Number,default:1},totalItems:{type:Number,default:0},itemsPerPage:{type:Number,default:10},itemsPerPageOptions:{type:Array,default:()=>[10,25,50,100]},showingText:{type:String,default:"Showing"},backgroundColor:{type:String,default:""},dataText:{type:String,default:"data"},fromText:{type:String,default:"from"},pagination:{type:Object,default:()=>({})}},emits:["update:modelValue","update:itemsPerPage","update:perPage","update:itemsPerPageOptions"],setup(a,{emit:s}){const C=a,{modelValue:N,totalItems:c,itemsPerPage:g,itemsPerPageOptions:B}=e.toRefs(C),m=e.ref(N.value),w=e.computed(()=>c.value>0?(m.value-1)*g.value+1:1),y=e.computed(()=>c.value>0?w.value+g.value-1:null),h=r=>{s("update:modelValue",r)};e.watch(m,r=>{h(r)},{immediate:!0});const E=e.computed(()=>B.value.map(r=>({text:r.toString(),value:r}))),u=e.ref(g.value);return e.watch(u,r=>{s("update:itemsPerPage",r),s("update:perPage",r)}),e.watch(g,r=>{u.value=r},{immediate:!0}),e.watch(N,r=>{m.value=r},{immediate:!0}),(r,V)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass([a.backgroundColor,"w-full px-6 py-3 border-t flex flex-row items-center gap-4 justify-center sm:justify-between"])},[e.renderSlot(r.$slots,"rowsPerPage",e.normalizeProps(e.guardReactiveProps({value:u.value,items:e.unref(E)})),()=>[e.createVNode(e.unref(G.default),{modelValue:u.value,"onUpdate:modelValue":V[0]||(V[0]=f=>u.value=f),items:e.unref(E),"hide-check-icon":"",placeholder:"Select",class:"w-30 order-1",top:""},null,8,["modelValue","items"])]),e.createElementVNode("p",Q,[e.renderSlot(r.$slots,"meta",e.normalizeProps(e.guardReactiveProps({showingText:a.showingText,start:e.unref(w),end:e.unref(y),fromText:a.fromText,totalItems:e.unref(c),dataText:a.dataText})),()=>[e.createElementVNode("span",W,e.toDisplayString(a.showingText),1),e.createElementVNode("span",X,e.toDisplayString(e.unref(w)),1),Y,e.createElementVNode("span",Z,e.toDisplayString(e.unref(y)),1),e.createElementVNode("span",null,e.toDisplayString(a.fromText),1),e.createElementVNode("span",_,e.toDisplayString(e.unref(c)),1),e.createElementVNode("span",v,e.toDisplayString(a.dataText),1)])]),ee,e.createElementVNode("div",te,[e.createVNode(e.unref(H.default),e.mergeProps({modelValue:m.value,"onUpdate:modelValue":V[1]||(V[1]=f=>m.value=f),"total-items":e.unref(c),"items-per-page":e.unref(g)},a.pagination),e.createSlots({_:2},[e.renderList(r.$slots,(f,x)=>({name:x,fn:e.withCtx(()=>[e.renderSlot(r.$slots,x)])}))]),1040,["modelValue","total-items","items-per-page"])])],2))}}),ae={class:"overflow-x-auto rounded-t-md"},le={class:"w-full divide-y divide-gray-200"},oe=["width"],re=["onClick"],ne={key:1,class:"text-sm font-semibold uppercase tracking-wider"},se=["colspan"],ie=["colspan"],A=e.defineComponent({__name:"VDataTable",props:{modelValue:{type:Array,default:()=>[]},value:{type:Array,default:()=>[]},headers:{type:Array,default:()=>[]},items:{type:Array,default:()=>[]},itemsPerPage:{type:Number,default:10},disableSorting:{type:Boolean,default:!1},pagination:{type:Object,default(){return{}}},loading:{type:Boolean,default:!1},search:{type:String,default:""},searchBy:{type:[String,Array],default:""},loadingText:{type:String,default:"Loading..."},noDataText:{type:String,default:"Data tidak ditemukan"},footerColor:{type:String,default:""},serverSide:{type:Boolean,default:!1},sortBy:{type:String,default:""},sortDirection:{type:String,default:""},hover:{type:Boolean,default:!1},striped:{type:Boolean,default:!1},dense:{type:Boolean,default:!1},hideFooter:{type:Boolean,default:!1},totalItems:{type:Number,default:0},page:{type:Number,default:1},mustSort:{type:Boolean,default:!1},noShadow:{type:Boolean,default:!1},selectable:{type:Boolean,default:!1},headerClass:{type:String,default:"bg-gray-50"},bodyClass:{type:String,default:"bg-white"},footerClass:{type:String,default:""},columnActiveClass:{type:String,default:"text-primary-500 hover:text-primary-600"},columnInactiveClass:{type:String,default:"text-gray-600 hover:text-primary-500"},hoverClass:{type:String,default:"transition duration-300 hover:bg-gray-100"},stripedClass:{type:String,default:"even:bg-gray-100"},tdClass:{type:String,default:""},trClass:{type:String,default:""},wrapperClass:{type:String,default:""},flat:{type:Boolean,default:!1},roundedClass:{type:String,default:"sm:rounded-lg"},bordered:{type:Boolean,default:!1},tile:{type:Boolean,default:!1}},emits:["update:search","update:sortBy","update:sortDirection","update:page","update:itemsPerPage","update:totalItems","update:pagination","page:change","itemsPerPage:change","pagination:change","update:modelValue","update:value","sort"],setup(a,{emit:s}){const C=a,{disableSorting:N,itemsPerPage:c,pagination:g,loading:B,search:m,searchBy:w,serverSide:y,items:h,hover:E,striped:u,dense:r,footerColor:V,headers:f,totalItems:x,page:F,mustSort:de,selectable:L,modelValue:ce,sortBy:fe,sortDirection:me}=e.toRefs(C),p=e.ref(F.value),S=e.ref(c.value),ue=e.computed(()=>(p.value-1)*Number(S.value)),P=e.ref(fe.value),b=e.ref(me.value),pe=e.computed(()=>f.value.map(t=>t.value)),O=e.computed(()=>{let t=JSON.parse(JSON.stringify(h.value));return y.value?t:(P.value&&P.value&&!y.value&&(t.sort((l,o)=>{const d=+l[P.value],i=+o[P.value];return!isNaN(d)&&!isNaN(i)?Number(d)-Number(i):String(d).localeCompare(String(i))}),b.value==="desc"&&t.reverse()),m.value&&!y.value&&(t=t.filter(l=>[...pe.value,w.value].flat().some(o=>String(l[o]).toLowerCase().includes(m.value.toLocaleLowerCase())))),t.slice(ue.value).slice(0,S.value))}),ge=e.computed(()=>C.headers.map(t=>({...t,sortable:t.hasOwnProperty("sortable")?t.sortable:!0,sorting:"asc"}))),ye=t=>{const l=t.sorting&&P.value===t.value,o=t.positionFreeze==="right"?"right-0":"left-0";return[l?C.columnActiveClass:C.columnInactiveClass,{[`text-${t.align}`]:!!t.align},t.freeze?`sticky ${o} bg-gray-50 drop-shadow-lg`:""]},he=t=>{const l=t.positionFreeze==="right"?"right-0":"left-0";return[{[`text-${t.align}`]:!!t.align},t.freeze?`sticky ${l} bg-white drop-shadow-lg`:""]},Ve=t=>{if(!t)return;let l="";de.value?b.value==="asc"?l="desc":l="asc":b.value===""?l="asc":b.value==="asc"?l="desc":b.value==="desc"&&(l=""),t.sorting=l,P.value=t.value,b.value=l};e.watch([P,b],([t,l])=>{s("update:sortBy",t),s("update:sortDirection",l),s("sort",{sortBy:t,direction:l})});const $=e.computed(()=>r.value?"px-4 py-2":"px-6 py-3"),q=(t={})=>{s("pagination:change",{page:p.value,itemsPerPage:S.value,...t})};e.watch(p,t=>{s("page:change",t),s("update:page",t),q({page:t})}),e.watch(S,t=>{s("itemsPerPage:change",t),s("update:itemsPerPage",t),q({itemsPerPage:t}),p.value=1}),e.watch(F,t=>{p.value=t}),e.watch(c,t=>{S.value=t});const k=e.ref([]),D=e.computed({get(){return h.value.length?k.value.length==h.value.length:!1},set(t){const l=[];t&&h.value.forEach(function(o){l.push(o)}),k.value=l}});e.watch(k,t=>{s("update:modelValue",t)},{deep:!0,immediate:!0}),e.watch(ce,t=>{k.value=t},{deep:!0,immediate:!0});const Se=e.computed(()=>x.value>0?(p.value-1)*c.value+1:1);return(t,l)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["w-full flex flex-col overflow-hidden",[{shadow:!a.noShadow&&!a.flat,[a.roundedClass]:!a.tile,border:a.bordered,"border-gray-200":a.bordered},a.wrapperClass]])},[e.createElementVNode("div",ae,[e.createElementVNode("table",le,[e.createElementVNode("thead",{class:e.normalizeClass(a.headerClass)},[e.createElementVNode("tr",{class:e.normalizeClass({"divide divide-x":a.bordered})},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(ge),o=>(e.openBlock(),e.createElementBlock("th",{key:o.value,scope:"col",class:e.normalizeClass(["text-left py-3 group",[ye(o),e.unref($),o.class]]),width:o.width},[e.unref(L)&&o.value==="selected"?e.renderSlot(t.$slots,"header.selectable",{key:0},()=>[e.createVNode(e.unref(I.VCheckbox),{modelValue:e.unref(D),"onUpdate:modelValue":l[0]||(l[0]=d=>e.isRef(D)?D.value=d:null)},null,8,["modelValue"])]):e.renderSlot(t.$slots,`header.${o.value}`,{key:1},()=>[!e.unref(N)&&o.sortable?(e.openBlock(),e.createElementBlock("button",{key:0,role:"button","aria-label":"Sort",type:"button",class:e.normalizeClass(["flex items-center truncate appearance-none text-sm font-semibold uppercase tracking-wider",[o.align?`justify-${o.align}`:"justify-between"]]),onClick:e.withModifiers(d=>Ve(o),["prevent"])},[e.createElementVNode("span",null,e.toDisplayString(o.text),1),o.sorting==="desc"?(e.openBlock(),e.createBlock(e.unref(z.ChevronDownIcon),{key:0,class:"ml-2 h-5 w-5"})):e.createCommentVNode("",!0),o.sorting==="asc"?(e.openBlock(),e.createBlock(e.unref(z.ChevronUpIcon),{key:1,class:"ml-2 h-5 w-5"})):e.createCommentVNode("",!0)],10,re)):(e.openBlock(),e.createElementBlock("span",ne,e.toDisplayString(o.text),1))])],10,oe))),128))],2)],2),e.createElementVNode("tbody",{class:e.normalizeClass([e.unref(u)?"":"divide-y divide-gray-200",a.bodyClass])},[e.unref(O).length<1&&!e.unref(B)?e.renderSlot(t.$slots,"empty",{key:0},()=>[e.createElementVNode("tr",null,[e.createElementVNode("td",{colspan:e.unref(f).length,class:e.normalizeClass(["text-center text-gray-600 text-sm whitespace-nowrap",[e.unref($)]])},e.toDisplayString(a.noDataText),11,se)])]):e.createCommentVNode("",!0),e.unref(B)?e.renderSlot(t.$slots,"loading",{key:1},()=>[e.createElementVNode("tr",null,[e.createElementVNode("td",{colspan:e.unref(f).length,class:e.normalizeClass(["text-center text-gray-600 text-sm whitespace-nowrap",[e.unref($)]])},[e.createVNode(e.unref(K.default),{color:"primary",class:"mr-1"}),e.createTextVNode(" "+e.toDisplayString(a.loadingText),1)],10,ie)])]):(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:2},e.renderList(e.unref(O),(o,d)=>(e.openBlock(),e.createElementBlock("tr",{key:`item-${d}`,class:e.normalizeClass({group:!0,[a.stripedClass]:e.unref(u),[a.hoverClass]:e.unref(E),"divide-x":a.bordered,[a.trClass]:Boolean(a.trClass)})},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(f),i=>(e.openBlock(),e.createElementBlock("td",{key:`header-${i.value}`,class:e.normalizeClass(["whitespace-nowrap text-sm text-gray-900",[he(i),e.unref($),a.tdClass,i?.tdClass||""]])},[e.unref(L)&&i.value==="selected"?e.renderSlot(t.$slots,"item.selected",{key:0},()=>[e.createVNode(e.unref(I.VCheckbox),{modelValue:k.value,"onUpdate:modelValue":l[1]||(l[1]=Pe=>k.value=Pe),value:o},null,8,["modelValue","value"])]):i.value==="index"?e.renderSlot(t.$slots,"item.index",{key:1},()=>[e.createTextVNode(e.toDisplayString(e.unref(Se)+d),1)]):e.renderSlot(t.$slots,`item.${i.value}`,{key:2,item:o,index:d},()=>[e.createTextVNode(e.toDisplayString(e.unref(J.get)(o,i.value)),1)])],2))),128))],2))),128))],2)])]),a.hideFooter?e.createCommentVNode("",!0):e.renderSlot(t.$slots,"footer",{key:0},()=>[e.createVNode(j,e.mergeProps({modelValue:p.value,"onUpdate:modelValue":l[2]||(l[2]=o=>p.value=o),"background-color":e.unref(V)?e.unref(V):"",class:["rounded-b-md",a.footerClass],"total-items":e.unref(y)?e.unref(x):e.unref(h).length,itemsPerPage:S.value,"onUpdate:itemsPerPage":l[3]||(l[3]=o=>S.value=o)},e.unref(g)),null,16,["modelValue","background-color","class","total-items","itemsPerPage"])])],2))}});n.VDataTable=A,n.VDataTablePagination=j,n.default=A,Object.defineProperties(n,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
