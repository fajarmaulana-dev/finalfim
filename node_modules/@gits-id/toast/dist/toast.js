"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const e=require("vue"),c=require("@headlessui/vue"),f=require("@heroicons/vue/outline"),X=require("@gits-id/button"),j=require("pinia"),L=require("vuex"),A=t=>t&&typeof t=="object"&&"default"in t?t:{default:t},b=A(X),R={class:"fixed inset-0 z-30 overflow-y-auto"},Q={class:"relative min-h-screen p-4"},U={class:"flex-grow"},G={key:0},H={inheritAttrs:!1},V=e.defineComponent({...H,__name:"VToast",props:{modelValue:{type:Boolean,default:!1},title:{type:String,default:""},confirm:{type:Boolean,default:!1},confirmColor:{type:String,default:"primary"},confirmProps:{type:Object,default:()=>({})},confirmText:{type:String,default:"Confirm"},closeText:{type:String,default:"Close"},closeProps:{type:Object,default:()=>({})},headerClass:{type:String,default:""},bodyClass:{type:String,default:""},actionsClass:{type:String,default:""},placement:{type:String,default:"bottom"},actions:{type:Boolean,default:!1},timeout:{type:Number,default:0},hideXIcon:{type:Boolean,default:!1},overlay:{type:Boolean,default:!1},color:{type:String,default:"white"},type:{type:String,default:""},loading:{type:Boolean,default:!1},persistent:{type:Boolean,default:!1}},emits:["update:modelValue","confirm","close","open"],setup(t,{emit:o}){const i=t,{modelValue:s,title:u,confirm:r,confirmColor:n,confirmProps:T,confirmText:B,closeText:N,closeProps:S,placement:g,actions:_,timeout:k,type:m,hideXIcon:z,overlay:D,color:v,loading:p,persistent:E}=e.toRefs(i),l=e.ref(s.value),C=e.ref(null),y=e.ref(p.value);function d(){p.value&&E.value||(l.value=!1,o("update:modelValue",!1),o("close"))}function x(){l.value=!0,o("update:modelValue",!0),o("open")}const q=()=>{y.value=!0},I=()=>{y.value=!1},P=()=>{o("confirm",{open:x,close:d,startLoading:q,finishLoading:I})},F=e.computed(()=>{switch(g.value){case"top":return"top-4 left-1/2 transform -translate-x-1/2";case"top-start":return"top-4 left-4";case"top-end":return"top-4 right-4";case"bottom":return"bottom-4 left-1/2 transform -translate-x-1/2";case"bottom-start":return"bottom-4 left-4";case"bottom-end":return"bottom-4 right-4";case"center":return"top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2";default:return g}}),M=e.computed(()=>{switch(g.value){case"top":case"top-start":case"top-end":return{enter:"duration-300 ease-out",enterFrom:"opacity-0 -translate-y-full",enterTo:"opacity-100",leave:"duration-200 ease-in",leaveFrom:"opacity-100",leaveTo:"opacity-0 -translate-y-full"};case"bottom":case"bottom-start":case"bottom-end":return{enter:"duration-300 ease-out",enterFrom:"opacity-0 translate-y-full",enterTo:"opacity-100",leave:"duration-200 ease-in",leaveFrom:"opacity-100",leaveTo:"opacity-0 translate-y-full"};default:return{enter:"duration-300 ease-out",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"duration-200 ease-in",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95"}}});function O(){clearTimeout(C.value),C.value=setTimeout(()=>{d()},k.value)}e.onUnmounted(()=>{clearTimeout(C.value)}),e.watch(s,a=>l.value=a),e.watch(l,a=>{o("update:modelValue",a),k.value>0&&O()},{immediate:!0}),e.watch(s,a=>{l.value=a},{immediate:!0}),e.watch(p,a=>{y.value=a},{immediate:!0});const $=e.computed(()=>{switch(v.value){case"primary":return"bg-primary";case"secondary":return"bg-secondary";case"warning":return"bg-warning";case"info":return"bg-info";case"error":return"bg-error";case"black":return"bg-black";default:return"bg-white"}}),w=e.computed(()=>{switch(v.value){case"primary":case"secondary":case"warning":case"info":case"error":case"black":return"text-white";default:return""}}),h=e.computed(()=>{switch(v.value){case"primary":case"secondary":case"info":case"warning":case"error":return"text-white";default:return""}});return(a,Y)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[e.renderSlot(a.$slots,"activator",{open:x}),e.createVNode(e.unref(c.TransitionRoot),{appear:"",show:l.value,as:"template"},{default:e.withCtx(()=>[e.createVNode(e.unref(c.Dialog),{as:"div",onClose:d},{default:e.withCtx(()=>[e.createElementVNode("div",R,[e.createElementVNode("div",Q,[e.unref(D)?(e.openBlock(),e.createBlock(e.unref(c.TransitionChild),{key:0,as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:e.withCtx(()=>[e.createVNode(e.unref(c.DialogOverlay),{class:"fixed bg-black bg-opacity-50 inset-0"})]),_:1})):e.createCommentVNode("",!0),e.createVNode(e.unref(c.TransitionChild),e.mergeProps({as:"template"},e.unref(M)),{default:e.withCtx(()=>[e.createElementVNode("div",{class:e.normalizeClass(["inline-block w-full max-w-sm p-4 overflow-hidden text-left transition-all transform shadow-xl rounded-lg border absolute",[e.unref(F),e.unref($)]])},[e.createElementVNode("div",{class:e.normalizeClass(["flex gap-4",e.unref(u)?"items-start":"items-center"])},[e.renderSlot(a.$slots,"media",{},()=>[e.unref(m)==="success"?(e.openBlock(),e.createBlock(e.unref(f.CheckIcon),{key:0,class:e.normalizeClass(["w-6 h-6",e.unref(h)||"text-success"])},null,8,["class"])):e.createCommentVNode("",!0),e.unref(m)==="error"?(e.openBlock(),e.createBlock(e.unref(f.XIcon),{key:1,class:e.normalizeClass(["w-6 h-6",e.unref(h)||"text-error"])},null,8,["class"])):e.createCommentVNode("",!0),e.unref(m)==="warning"?(e.openBlock(),e.createBlock(e.unref(f.ExclamationIcon),{key:2,class:e.normalizeClass(["w-6 h-6",e.unref(h)||"text-warning"])},null,8,["class"])):e.createCommentVNode("",!0),e.unref(m)==="question"?(e.openBlock(),e.createBlock(e.unref(f.QuestionMarkCircleIcon),{key:3,class:e.normalizeClass(["w-6 h-6",e.unref(h)||"text-info"])},null,8,["class"])):e.createCommentVNode("",!0)]),e.createElementVNode("div",U,[e.unref(u)?(e.openBlock(),e.createBlock(e.unref(c.DialogTitle),{key:0,as:"h3",class:e.normalizeClass(["font-semibold leading-6 mb-1",[t.headerClass,e.unref(w)]])},{default:e.withCtx(()=>[e.renderSlot(a.$slots,"header",{},()=>[e.createTextVNode(e.toDisplayString(e.unref(u)),1)])]),_:3},8,["class"])):e.createCommentVNode("",!0),e.createElementVNode("div",{class:e.normalizeClass(["text-sm",[t.bodyClass,e.unref(w)]])},[e.renderSlot(a.$slots,"default")],2),e.unref(_)?(e.openBlock(),e.createElementBlock("div",{key:1,class:e.normalizeClass(["flex justify-start gap-2 pt-4",t.actionsClass])},[e.renderSlot(a.$slots,"actions",{},()=>[e.unref(r)?(e.openBlock(),e.createBlock(e.unref(b.default),e.mergeProps({key:0,color:e.unref(n),loading:y.value},e.unref(T),{onClick:P}),{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(e.unref(B)),1)]),_:1},16,["color","loading"])):e.createCommentVNode("",!0),e.createVNode(e.unref(b.default),e.mergeProps(e.unref(S),{disabled:e.unref(p),onClick:d}),{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(e.unref(N)),1)]),_:1},16,["disabled"])])],2)):e.createCommentVNode("",!0)]),e.unref(z)?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",G,[e.renderSlot(a.$slots,"rightActions",{},()=>[e.createVNode(e.unref(b.default),{icon:"",rounded:"",text:"","no-ring":"",size:"xs",class:e.normalizeClass([e.unref(u)?"-m-2":""]),onClick:d},{default:e.withCtx(()=>[e.createVNode(e.unref(f.XIcon),{class:e.normalizeClass(["w-5 h-5",e.unref(w)])},null,8,["class"])]),_:1},8,["class"])])]))],2)],2)]),_:3},16)])])]),_:3})]),_:3},8,["show"])],64))}}),J=j.defineStore("toast",{state:()=>({isOpen:!1,message:"",options:{color:"black",timeout:3e3}}),getters:{},actions:{show(t,o){this.message=t,this.isOpen=!0,this.options={...this.options,...o}},confirm(t,o){return this.show(t,{type:"question",actions:!0,confirm:!0,placement:"center",hideXIcon:!0,overlay:!0,timeout:0,color:"",persistent:!0,...o})},confirmDelete(t,o){return this.confirm(t,{confirmColor:"error",confirmText:"Delete",closeText:"Cancel",...o})}}}),K=()=>({namespaced:!0,state:()=>({show:!1,message:"",options:{color:"black",timeout:3e3}}),mutations:{show(t,{message:o,options:i}){t.message=o,t.show=!0,t.options={...t.options,...i}},reset(t){t.show=!1,t.message="",t.options={color:"black",timeout:3e3}}},getters:{message:t=>t.message,show:t=>t.show,options:t=>t.options}}),W=()=>{const t=L.useStore(),o=(r,n)=>{t.commit("toast/show",{message:r,options:n})},i=()=>{t.commit("toast/reset")},s=(r,n)=>{o(r,{type:"question",actions:!0,confirm:!0,placement:"center",hideXIcon:!0,overlay:!0,timeout:0,color:"",persistent:!0,...n})};return{show:o,reset:i,confirm:s,confirmDelete:(r,n)=>{s(r,{confirmColor:"error",confirmText:"Delete",closeText:"Cancel",...n})}}};exports.VToast=V;exports.default=V;exports.toastModule=K;exports.useToast=W;exports.useToastStore=J;
