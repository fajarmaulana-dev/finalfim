(function(a,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("vue"),require("@headlessui/vue"),require("@heroicons/vue/outline"),require("@gits-id/button"),require("pinia"),require("vuex")):typeof define=="function"&&define.amd?define(["exports","vue","@headlessui/vue","@heroicons/vue/outline","@gits-id/button","pinia","vuex"],e):(a=typeof globalThis<"u"?globalThis:a||self,e(a.VToast={},a.Vue,a.vue$1,a.outline,a.VBtn,a.pinia,a.vuex))})(this,function(a,e,l,d,N,S,_){"use strict";const C=(t=>t&&typeof t=="object"&&"default"in t?t:{default:t})(N),z={class:"fixed inset-0 z-30 overflow-y-auto"},D={class:"relative min-h-screen p-4"},E={class:"flex-grow"},q={key:0},I={inheritAttrs:!1},V=e.defineComponent({...I,__name:"VToast",props:{modelValue:{type:Boolean,default:!1},title:{type:String,default:""},confirm:{type:Boolean,default:!1},confirmColor:{type:String,default:"primary"},confirmProps:{type:Object,default:()=>({})},confirmText:{type:String,default:"Confirm"},closeText:{type:String,default:"Close"},closeProps:{type:Object,default:()=>({})},headerClass:{type:String,default:""},bodyClass:{type:String,default:""},actionsClass:{type:String,default:""},placement:{type:String,default:"bottom"},actions:{type:Boolean,default:!1},timeout:{type:Number,default:0},hideXIcon:{type:Boolean,default:!1},overlay:{type:Boolean,default:!1},color:{type:String,default:"white"},type:{type:String,default:""},loading:{type:Boolean,default:!1},persistent:{type:Boolean,default:!1}},emits:["update:modelValue","confirm","close","open"],setup(t,{emit:o}){const f=t,{modelValue:i,title:m,confirm:n,confirmColor:s,confirmProps:O,confirmText:j,closeText:X,closeProps:L,placement:w,actions:A,timeout:T,type:u,hideXIcon:R,overlay:$,color:k,loading:y,persistent:Q}=e.toRefs(f),c=e.ref(i.value),b=e.ref(null),h=e.ref(y.value);function p(){y.value&&Q.value||(c.value=!1,o("update:modelValue",!1),o("close"))}function B(){c.value=!0,o("update:modelValue",!0),o("open")}const U=()=>{h.value=!0},G=()=>{h.value=!1},H=()=>{o("confirm",{open:B,close:p,startLoading:U,finishLoading:G})},J=e.computed(()=>{switch(w.value){case"top":return"top-4 left-1/2 transform -translate-x-1/2";case"top-start":return"top-4 left-4";case"top-end":return"top-4 right-4";case"bottom":return"bottom-4 left-1/2 transform -translate-x-1/2";case"bottom-start":return"bottom-4 left-4";case"bottom-end":return"bottom-4 right-4";case"center":return"top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2";default:return w}}),K=e.computed(()=>{switch(w.value){case"top":case"top-start":case"top-end":return{enter:"duration-300 ease-out",enterFrom:"opacity-0 -translate-y-full",enterTo:"opacity-100",leave:"duration-200 ease-in",leaveFrom:"opacity-100",leaveTo:"opacity-0 -translate-y-full"};case"bottom":case"bottom-start":case"bottom-end":return{enter:"duration-300 ease-out",enterFrom:"opacity-0 translate-y-full",enterTo:"opacity-100",leave:"duration-200 ease-in",leaveFrom:"opacity-100",leaveTo:"opacity-0 translate-y-full"};default:return{enter:"duration-300 ease-out",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"duration-200 ease-in",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95"}}});function W(){clearTimeout(b.value),b.value=setTimeout(()=>{p()},T.value)}e.onUnmounted(()=>{clearTimeout(b.value)}),e.watch(i,r=>c.value=r),e.watch(c,r=>{o("update:modelValue",r),T.value>0&&W()},{immediate:!0}),e.watch(i,r=>{c.value=r},{immediate:!0}),e.watch(y,r=>{h.value=r},{immediate:!0});const Y=e.computed(()=>{switch(k.value){case"primary":return"bg-primary";case"secondary":return"bg-secondary";case"warning":return"bg-warning";case"info":return"bg-info";case"error":return"bg-error";case"black":return"bg-black";default:return"bg-white"}}),x=e.computed(()=>{switch(k.value){case"primary":case"secondary":case"warning":case"info":case"error":case"black":return"text-white";default:return""}}),g=e.computed(()=>{switch(k.value){case"primary":case"secondary":case"info":case"warning":case"error":return"text-white";default:return""}});return(r,v)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[e.renderSlot(r.$slots,"activator",{open:B}),e.createVNode(e.unref(l.TransitionRoot),{appear:"",show:c.value,as:"template"},{default:e.withCtx(()=>[e.createVNode(e.unref(l.Dialog),{as:"div",onClose:p},{default:e.withCtx(()=>[e.createElementVNode("div",z,[e.createElementVNode("div",D,[e.unref($)?(e.openBlock(),e.createBlock(e.unref(l.TransitionChild),{key:0,as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:e.withCtx(()=>[e.createVNode(e.unref(l.DialogOverlay),{class:"fixed bg-black bg-opacity-50 inset-0"})]),_:1})):e.createCommentVNode("",!0),e.createVNode(e.unref(l.TransitionChild),e.mergeProps({as:"template"},e.unref(K)),{default:e.withCtx(()=>[e.createElementVNode("div",{class:e.normalizeClass(["inline-block w-full max-w-sm p-4 overflow-hidden text-left transition-all transform shadow-xl rounded-lg border absolute",[e.unref(J),e.unref(Y)]])},[e.createElementVNode("div",{class:e.normalizeClass(["flex gap-4",e.unref(m)?"items-start":"items-center"])},[e.renderSlot(r.$slots,"media",{},()=>[e.unref(u)==="success"?(e.openBlock(),e.createBlock(e.unref(d.CheckIcon),{key:0,class:e.normalizeClass(["w-6 h-6",e.unref(g)||"text-success"])},null,8,["class"])):e.createCommentVNode("",!0),e.unref(u)==="error"?(e.openBlock(),e.createBlock(e.unref(d.XIcon),{key:1,class:e.normalizeClass(["w-6 h-6",e.unref(g)||"text-error"])},null,8,["class"])):e.createCommentVNode("",!0),e.unref(u)==="warning"?(e.openBlock(),e.createBlock(e.unref(d.ExclamationIcon),{key:2,class:e.normalizeClass(["w-6 h-6",e.unref(g)||"text-warning"])},null,8,["class"])):e.createCommentVNode("",!0),e.unref(u)==="question"?(e.openBlock(),e.createBlock(e.unref(d.QuestionMarkCircleIcon),{key:3,class:e.normalizeClass(["w-6 h-6",e.unref(g)||"text-info"])},null,8,["class"])):e.createCommentVNode("",!0)]),e.createElementVNode("div",E,[e.unref(m)?(e.openBlock(),e.createBlock(e.unref(l.DialogTitle),{key:0,as:"h3",class:e.normalizeClass(["font-semibold leading-6 mb-1",[t.headerClass,e.unref(x)]])},{default:e.withCtx(()=>[e.renderSlot(r.$slots,"header",{},()=>[e.createTextVNode(e.toDisplayString(e.unref(m)),1)])]),_:3},8,["class"])):e.createCommentVNode("",!0),e.createElementVNode("div",{class:e.normalizeClass(["text-sm",[t.bodyClass,e.unref(x)]])},[e.renderSlot(r.$slots,"default")],2),e.unref(A)?(e.openBlock(),e.createElementBlock("div",{key:1,class:e.normalizeClass(["flex justify-start gap-2 pt-4",t.actionsClass])},[e.renderSlot(r.$slots,"actions",{},()=>[e.unref(n)?(e.openBlock(),e.createBlock(e.unref(C.default),e.mergeProps({key:0,color:e.unref(s),loading:h.value},e.unref(O),{onClick:H}),{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(e.unref(j)),1)]),_:1},16,["color","loading"])):e.createCommentVNode("",!0),e.createVNode(e.unref(C.default),e.mergeProps(e.unref(L),{disabled:e.unref(y),onClick:p}),{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(e.unref(X)),1)]),_:1},16,["disabled"])])],2)):e.createCommentVNode("",!0)]),e.unref(R)?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",q,[e.renderSlot(r.$slots,"rightActions",{},()=>[e.createVNode(e.unref(C.default),{icon:"",rounded:"",text:"","no-ring":"",size:"xs",class:e.normalizeClass([e.unref(m)?"-m-2":""]),onClick:p},{default:e.withCtx(()=>[e.createVNode(e.unref(d.XIcon),{class:e.normalizeClass(["w-5 h-5",e.unref(x)])},null,8,["class"])]),_:1},8,["class"])])]))],2)],2)]),_:3},16)])])]),_:3})]),_:3},8,["show"])],64))}}),P=S.defineStore("toast",{state:()=>({isOpen:!1,message:"",options:{color:"black",timeout:3e3}}),getters:{},actions:{show(t,o){this.message=t,this.isOpen=!0,this.options={...this.options,...o}},confirm(t,o){return this.show(t,{type:"question",actions:!0,confirm:!0,placement:"center",hideXIcon:!0,overlay:!0,timeout:0,color:"",persistent:!0,...o})},confirmDelete(t,o){return this.confirm(t,{confirmColor:"error",confirmText:"Delete",closeText:"Cancel",...o})}}}),F=()=>({namespaced:!0,state:()=>({show:!1,message:"",options:{color:"black",timeout:3e3}}),mutations:{show(t,{message:o,options:f}){t.message=o,t.show=!0,t.options={...t.options,...f}},reset(t){t.show=!1,t.message="",t.options={color:"black",timeout:3e3}}},getters:{message:t=>t.message,show:t=>t.show,options:t=>t.options}}),M=()=>{const t=_.useStore(),o=(n,s)=>{t.commit("toast/show",{message:n,options:s})},f=()=>{t.commit("toast/reset")},i=(n,s)=>{o(n,{type:"question",actions:!0,confirm:!0,placement:"center",hideXIcon:!0,overlay:!0,timeout:0,color:"",persistent:!0,...s})};return{show:o,reset:f,confirm:i,confirmDelete:(n,s)=>{i(n,{confirmColor:"error",confirmText:"Delete",closeText:"Cancel",...s})}}};a.VToast=V,a.default=V,a.toastModule=F,a.useToast=M,a.useToastStore=P,Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
